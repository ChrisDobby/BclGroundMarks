(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p;$.Define($$,{GroundMarks:{Client:{CaptainTable:function(q){var r;r=c.Div($.New(e,{$:0}));f.OnAfterRender(function(s){return h.drawCaptainTable(s,i.Async("GroundMarks:7",[q]));},r);return r;},ClubData:function(t,u){return j.Start(j.Delay(function(){return j.Bind(u,function(w){k.iter($.Tupled(function(x){var y;y=x[1];f.add(t,d.ofArray([f.add(c.Div(d.ofArray([c.Attr().Class("tab-pane"),c.Attr().NewAttr("id",y)])),d.ofArray([c.Div(d.ofArray([c.Attr().Class("col-md-12 well lead"),c.Text(x[0])])),f.add(c.Div(d.ofArray([c.Attr().Class("col-md-12")])),d.ofArray([c.Div(d.ofArray([c.Attr().Class("lead"),c.Text("Umpires Pitch")])),h.UmpirePitchTable(x[0]),c.Div(d.ofArray([c.Attr().Class("lead"),c.Text("Umpires Outfield")])),h.UmpireOutfieldTable(x[0]),c.Div(d.ofArray([c.Attr().Class("lead"),c.Text("Captain")])),h.CaptainTable(x[0])]))]))]));}),w);return j.Return(null);});}));},ClubTabs:function(z,A){return j.Start(j.Delay(function(){return j.Bind(A,function(C){k.iter($.Tupled(function(D){f.add(z,d.ofArray([c.LI(d.ofArray([c.A(d.ofArray([c.HRef("#"+D[1]),c.Attr().NewAttr("data-toggle","tab"),c.Text(D[0])]))]))]));}),C);return j.Return(null);});}));},FirstDivisionOutfieldChart:function(){var E;E=c.Div($.New(e,{$:0}));f.OnAfterRender(function(F){return h.drawChart(new n(F.Body),h.chartOptions("Division 1 Outfield Marks"),i.Async("GroundMarks:2",[]));},E);return E;},FirstDivisionPitchChart:function(){var G;G=c.Div($.New(e,{$:0}));f.OnAfterRender(function(H){return h.drawChart(new n(H.Body),h.chartOptions("Division 1 Pitch Marks"),i.Async("GroundMarks:0",[]));},G);return G;},Main:function(){var I;I=f.add(c.Div(d.ofArray([c.Attr().Class("tab-content")])),d.ofArray([f.add(c.Div(d.ofArray([c.Attr().Class("tab-pane active in"),c.Attr().NewAttr("id","pitch")])),d.ofArray([f.add(c.Div(d.ofArray([c.Attr().Class("col-md-12")])),d.ofArray([h.FirstDivisionPitchChart()])),f.add(c.Div(d.ofArray([c.Attr().Class("col-md-12")])),d.ofArray([h.SecondDivisionPitchChart()]))])),f.add(c.Div(d.ofArray([c.Attr().Class("tab-pane"),c.Attr().NewAttr("id","outfield")])),d.ofArray([f.add(c.Div(d.ofArray([c.Attr().Class("col-md-12")])),d.ofArray([h.FirstDivisionOutfieldChart()])),f.add(c.Div(d.ofArray([c.Attr().Class("col-md-12")])),d.ofArray([h.SecondDivisionOutfieldChart()]))]))]));f.OnAfterRender(function(J){return h.ClubData(J,i.Async("GroundMarks:4",[]));},I);return f.add(c.Div(d.ofArray([c.Attr().Class("container")])),d.ofArray([h.Tabs(),I]));},SecondDivisionOutfieldChart:function(){var K;K=c.Div($.New(e,{$:0}));f.OnAfterRender(function(L){return h.drawChart(new n(L.Body),h.chartOptions("Division 2 Outfield Marks"),i.Async("GroundMarks:3",[]));},K);return K;},SecondDivisionPitchChart:function(){var M;M=c.Div($.New(e,{$:0}));f.OnAfterRender(function(N){return h.drawChart(new n(N.Body),h.chartOptions("Division 2 Pitch Marks"),i.Async("GroundMarks:1",[]));},M);return M;},Tabs:function(){var O;O=c.UL(d.ofArray([c.Attr().Class("dropdown-menu"),c.Attr().NewAttr("id","clubDropdown")]));f.OnAfterRender(function(P){return h.ClubTabs(P,i.Async("GroundMarks:4",[]));},O);return f.add(c.UL(d.ofArray([c.Attr().Class("nav nav-tabs")])),d.ofArray([f.add(c.LI(d.ofArray([c.Attr().Class("active")])),d.ofArray([c.A(d.ofArray([c.HRef("#pitch"),c.Attr().NewAttr("data-toggle","tab"),c.Text("Pitch Marks")]))])),c.LI(d.ofArray([c.A(d.ofArray([c.HRef("#outfield"),c.Attr().NewAttr("data-toggle","tab"),c.Text("Outfield Marks")]))])),f.add(c.LI(d.ofArray([c.Attr().Class("dropdown")])),d.ofArray([f.add(c.A(d.ofArray([c.Attr().Class("dropdown-toggle"),c.Attr().NewAttr("data-toggle","dropdown"),c.HRef("#"),c.Text("Clubs")])),d.ofArray([c.Span(d.ofArray([c.Attr().Class("caret")]))])),O]))]));},UmpireOutfieldTable:function(Q){var R;R=c.Div($.New(e,{$:0}));f.OnAfterRender(function(S){return h.drawUmpireOutfieldTable(S,i.Async("GroundMarks:6",[Q]));},R);return R;},UmpirePitchTable:function(T){var U;U=c.Div($.New(e,{$:0}));f.OnAfterRender(function(V){return h.drawUmpirePitchTable(V,i.Async("GroundMarks:5",[T]));},U);return U;},captainRows:function(W){return k.map(function(X){return c.TR(d.ofArray([c.TD(d.ofArray([c.Text(X.MatchDate)])),c.TD(d.ofArray([c.Text(o(X.Pitch))])),c.TD(d.ofArray([c.Text(o(X.Outfield))])),c.TD(d.ofArray([c.Text(o(X.Changing))])),c.TD(d.ofArray([c.Text(o(X.Scoreboard))]))]));},W);},chartOptions:function(Y){var Z,_0;Z={};Z.minValue=0;Z.maxValue=5;_0={};_0.showTextEvery=1;_0.slantedText=true;_0.slantedTextAngle=50;return{width:800,height:340,vAxis:Z,hAxis:_0,backgroundColor:"transparent",title:Y};},drawCaptainTable:function(_1,_2){return j.Start(j.Delay(function(){return j.Bind(_2,function(_4){f.add(_1,d.ofArray([f.add(c.Table(d.ofArray([c.Attr().Class("table table-hover")])),d.ofArray([c.THead(d.ofArray([c.TR(d.ofArray([c.TH(d.ofArray([c.Text("Match Date")])),c.TH(d.ofArray([c.Text("Pitch")])),c.TH(d.ofArray([c.Text("Outfield")])),c.TH(d.ofArray([c.Text("Changing Rooms")])),c.TH(d.ofArray([c.Text("Scoreboard")]))]))])),f.add(c.TBody($.New(e,{$:0})),h.captainRows(_4))]))]));return j.Return(null);});}));},drawChart:function(_5,_6,_7){return j.Start(j.Delay(function(){return j.Bind(_7,function(_9){var _;_=new p();_.addColumn("string","Club");_.addColumn("number","Umpires");_.addColumn("number","Captain");_.addRows(k.length(_9));k.iteri(function(ba){return function(bb){_.setCell(ba,0,bb.Club);_.setCell(ba,1,bb.UmpiresMark);_.setCell(ba,2,bb.CaptainsMark);return;};},_9);_5.draw(_,_6);return j.Return(null);});}));},drawUmpireOutfieldTable:function(bb,bc){return j.Start(j.Delay(function(){return j.Bind(bc,function(be){f.add(bb,d.ofArray([f.add(c.Table(d.ofArray([c.Attr().Class("table table-hover")])),d.ofArray([c.THead(d.ofArray([c.TR(d.ofArray([c.TH(d.ofArray([c.Text("Match Date")])),c.TH(d.ofArray([c.Text("Unevenness")])),c.TH(d.ofArray([c.Text("Appearance")])),c.TH(d.ofArray([c.Text("Boundary Markings")])),c.TH(d.ofArray([c.Text("Sight Screens")]))]))])),f.add(c.TBody($.New(e,{$:0})),h.outfieldRows(be))]))]));return j.Return(null);});}));},drawUmpirePitchTable:function(bf,bg){return j.Start(j.Delay(function(){return j.Bind(bg,function(bi){f.add(bf,d.ofArray([f.add(c.Table(d.ofArray([c.Attr().Class("table table-hover")])),d.ofArray([c.THead(d.ofArray([c.TR(d.ofArray([c.TH(d.ofArray([c.Text("Match Date")])),c.TH(d.ofArray([c.Text("Unevenness")])),c.TH(d.ofArray([c.Text("Seam Movement")])),c.TH(d.ofArray([c.Text("Carry and Bounce")])),c.TH(d.ofArray([c.Text("Turn")]))]))])),f.add(c.TBody($.New(e,{$:0})),h.pitchRows(bi))]))]));return j.Return(null);});}));},outfieldRows:function(bj){return k.map(function(bk){return c.TR(d.ofArray([c.TD(d.ofArray([c.Text(bk.MatchDate)])),c.TD(d.ofArray([c.Text(o(bk.Unevenness))])),c.TD(d.ofArray([c.Text(o(bk.Appearance))])),c.TD(d.ofArray([c.Text(o(bk.Markings))])),c.TD(d.ofArray([c.Text(o(bk.Screens))]))]));},bj);},pitchRows:function(bl){return k.map(function(bm){return c.TR(d.ofArray([c.TD(d.ofArray([c.Text(bm.MatchDate)])),c.TD(d.ofArray([c.Text(o(bm.Inconsistency))])),c.TD(d.ofArray([c.Text(o(bm.Seam))])),c.TD(d.ofArray([c.Text(o(bm.Carry))])),c.TD(d.ofArray([c.Text(o(bm.Turn))]))]));},bl);}},Controls:{EntryPoint:$.Class({get_Body:function(){return h.Main();}})}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.Html);c=$.Safe(b.Default);d=$.Safe(a.List);e=$.Safe(d.T);f=$.Safe(b.Operators);g=$.Safe($$.GroundMarks);h=$.Safe(g.Client);i=$.Safe(a.Remoting);j=$.Safe(a.Concurrency);k=$.Safe(a.Seq);l=$.Safe($$.google);m=$.Safe(l.visualization);n=$.Safe(m.ColumnChart);o=$.Safe($$.String);return p=$.Safe(m.DataTable);});$.OnLoad(function(){return;});}());
